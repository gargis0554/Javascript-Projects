<!DOCTYPE html>
<head>
    <title>OBJECTS</title>
    
</head>
<body>
    <p>Rock Paper Scissor</p>
    <button onclick="play('rock');"> ROCK </button>
    <button onclick="play('paper');">PAPER</button>
    <button onclick="play('scissor')">SCISSORS</button>
    <button onclick="
    score.wins=0;
    score.losses=0;
    score.ties=0;
    localStorage.removeItem('score');">RESET</button>
    <!-- localstorage.removeitem('score'); -->
</body>
<script>
    
    let score=JSON.parse(localStorage.getItem('score')) || {
        wins:0,
        losses:0,
        ties:0
        };
    // if (!score){wins:0,
    //     losses:0,
    //     ties:0
    //     };
    function play(playermove){
        let computermove=pickComputerMove();
        let result='';    
        if(playermove==='rock'){
            if(computermove==='rock'){
                result='tie';
            }
            else if(computermove==='paper'){
                result='you lose';
            }
            else if(computermove==='scissor'){
                result='you win';
            }
            }
            else if(playermove==='paper'){
                if(computermove==='paper'){
                result='tie';
            }
                else if(computermove==='scissor'){
                result='you lose';
            }
                else if(computermove==='rock'){
                result='you win';
            }
            }
            else if(playermove==='scissor'){
                if(computermove==='scissor'){
                result='tie';
            }
                else if(computermove==='rock'){
                result='you lose';
            }
                else if(computermove==='paper'){
                result='you win';
            }
        
            }
            if(result==='you win'){
                score.wins+=1;
            }
            else if(result==='you lose'){
                score.losses+=1;
            }
            else if(result==='tie'){
                ties+=1;
            }


            localStorage.setItem('score',JSON.stringify(score));


            alert(`you pick ${playermove}. computer pick ${computermove}. ${result}
            wins: ${score.wins},losses: ${score.losses},ties: ${score.ties}`);
        }
        function pickComputerMove(){
            const randomnumber = Math.random();
            let computermove='';
            if(randomnumber>=0 && randomnumber<=1/3){
                computermove='rock';
            }
            else if(randomnumber>=1/3 && randomnumber<=2/3){
                computermove='paper';
            }
            else if(randomnumber>=2/3 && randomnumber<1){
                computermove='scissor';
            }
            return computermove;
        }
</script>
</html>